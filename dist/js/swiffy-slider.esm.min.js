(()=>{function d(t){if(typeof t!="string")return!1;let i=t.trim().split(/\s+/);if(i.length<1||i.length>4)return!1;let e=s=>/^-?\d*\.?\d+(px|%)$/.test(s);return i.every(e)}var f=function(){return{version:"1.6.0",init(t=document.body){for(let i of t.querySelectorAll(".swiffy-slider"))this.initSlider(i)},initSlider(t){for(let i of t.querySelectorAll(".slider-nav")){let e=i.classList.contains("slider-nav-next");i.addEventListener("click",()=>this.slide(t,e),{passive:!0})}for(let i of t.querySelectorAll(".slider-indicators"))i.addEventListener("click",()=>this.slideToByIndicator()),this.onSlideEnd(t,()=>this.handleIndicators(t),60);if(t.classList.contains("slider-nav-autoplay")){let i=t.getAttribute("data-slider-nav-autoplay-interval")?t.getAttribute("data-slider-nav-autoplay-interval"):2500;this.autoPlay(t,i,t.classList.contains("slider-nav-autopause"))}if(["slider-nav-autohide","slider-nav-animation"].some(i=>t.classList.contains(i))){let i=t.getAttribute("data-slider-nav-animation-threshold")?t.getAttribute("data-slider-nav-animation-threshold"):.3;this.setVisibleSlides(t,i)}},setVisibleSlides(t,i=.3){let e=t.querySelector(".slider-container"),s=e.getAttribute("data-root-margin")??"",n=new IntersectionObserver(o=>{o.forEach(r=>{r.isIntersecting?r.target.classList.add("slide-visible"):r.target.classList.remove("slide-visible")}),t.querySelector(".slider-container>*:first-child").classList.contains("slide-visible")?t.classList.add("slider-item-first-visible"):t.classList.remove("slider-item-first-visible"),t.querySelector(".slider-container>*:last-child").classList.contains("slide-visible")?t.classList.add("slider-item-last-visible"):t.classList.remove("slider-item-last-visible")},{root:e,threshold:i,rootMargin:d(s)?s:""});for(let o of t.querySelectorAll(".slider-container>*"))n.observe(o)},slide(t,i=!0){let e=t.querySelector(".slider-container"),s=t.classList.contains("slider-nav-page"),n=t.classList.contains("slider-nav-noloop"),o=t.classList.contains("slider-nav-nodelay"),r=e.children,l=parseInt(window.getComputedStyle(e).columnGap),c=r[0].offsetWidth+l,a=i?e.scrollLeft+c:e.scrollLeft-c;s&&(a=i?e.scrollLeft+e.offsetWidth:e.scrollLeft-e.offsetWidth),e.scrollLeft<1&&!i&&!n&&(a=e.scrollWidth-e.offsetWidth),e.scrollLeft>=e.scrollWidth-e.offsetWidth&&i&&!n&&(a=0),e.scroll({left:a,behavior:o?"auto":"smooth"})},slideToByIndicator(){let t=window.event.target,i=Array.from(t.parentElement.children).indexOf(t),e=t.parentElement.children.length,s=t.closest(".swiffy-slider"),o=s.querySelector(".slider-container").children.length/e*i;this.slideTo(s,o)},slideTo(t,i){let e=t.querySelector(".slider-container"),s=parseInt(window.getComputedStyle(e).columnGap),n=e.children[0].offsetWidth+s,o=t.classList.contains("slider-nav-nodelay");e.scroll({left:n*i,behavior:o?"auto":"smooth"})},onSlideEnd(t,i,e=125){let s;t.querySelector(".slider-container").addEventListener("scroll",function(){window.clearTimeout(s),s=setTimeout(i,e)},{capture:!1,passive:!0})},autoPlay(t,i,e){i=i<750?750:i;let s=setInterval(()=>this.slide(t),i),n=()=>{["mouseout","touchend"].forEach(function(o){t.removeEventListener(o,n)}),this.autoPlay(t,i,e)};return e&&(["mouseover","touchstart"].forEach(function(o){t.addEventListener(o,function(){window.clearTimeout(s)},{once:!0,passive:!0})}),["mouseout","touchend"].forEach(function(o){t.addEventListener(o,n,{once:!0,passive:!0})})),s},handleIndicators(t){if(!t)return;let i=t.querySelector(".slider-container"),e=i.scrollWidth-i.offsetWidth,s=i.scrollLeft/e;for(let n of t.querySelectorAll(".slider-indicators")){let o=n.children,r=Math.abs(Math.round((o.length-1)*s));for(let l of o)l.classList.remove("active");o[r].classList.add("active")}}}}();})();
//# sourceMappingURL=swiffy-slider.esm.min.js.map
